import {
  Component,
  ElementRef,
  Input,
  OnDestroy,
  OnInit,
  Renderer2,
  ViewChild,
} from '@angular/core'
import { Subject } from "rxjs/Subject";
import { Observable } from "rxjs/Observable";
import { Model } from './model';
import { TranslateService } from '@ngx-translate/core'

@Component({
  selector: 'my-app',
  templateUrl: './app.component.html',
  styleUrls: ['./app.component.scss']
})
export class AppComponent implements OnInit, OnDestroy {

  private unsubscribe: Subject<void> = new Subject();

  public rowsName = [];

  dataTest$: Model[] = {} as Model[];

  @ViewChild('tableContainer') public tableContainer: ElementRef;

  constructor(public translate: TranslateService) { }



  ngOnInit() {
    this.dataTest$ = ELEMENT_DATA;
      this.translate.addLangs(['vi']);
      this.translate.setDefaultLang('vi')
      // this.translate.use('vi')
      this.translate.get(['Generality', 'Company', 'Friends', 'Targets'] ).subscribe((res) => {
      const newArr = [];
      
      const Generality  = res.Generality;
      const GeneralityNameRows  = Object.keys(Generality).map(key => Generality[key]);

      const Company  = res.Company;
      const CompanyNameRows  = Object.keys(Company).map(key => Company[key]);

      const Targets  = res.Targets;
      const TargetsNameRows  = Object.keys(Targets).map(key => Targets[key]);

      const Friends  = res.TemporaryBonus;
      const FriendsNameRows  = Object.keys(Friends).map(key => Friends[key]);

      GeneralityNameRows.forEach((items) => {
        newArr.push(items);
      })
      CompanyNameRows.forEach((items) => {
        newArr.push(items);
      })
      TargetsNameRows.forEach((items) => {
        newArr.push(items)
      })
      FriendsNameRows.forEach((items) => {
        newArr.push(items)
      })
      this.rowsName = newArr
      console.log(this.rowsName)
    })
  }

  ngOnDestroy(): void {
    this.unsubscribe.next();
    this.unsubscribe.complete();
  }

  onScroll(event: any) {
  }

  checkTable() {
    const table  = this.tableContainer.nativeElement
    const attThAll = table.querySelectorAll('th')
    attThAll.forEach((element, index) => {
      if (index === 10) {
        element.setAttribute('rowspan', '8' )
      } else {
        element.setAttribute('colspan', '3' )
      }
    })
    return true
  }
  
}

export interface PeriodicElement {
  name: string;
  position: number;
  weight: number;
  symbol: string;
}

const ELEMENT_DATA: Model[] = [
  {
    region: 'Re1',
    area: 'H',
    gaCode: '1ga',
    gaLocation: 'gaL',
    gadCode: '1',
    gadName: 'gaN',
    openDate: "2019-03-11T07:31:24.047Z",
    branch: 'branch',
    revenueSCCompare: 5,
    targets10: 1055,
    targets20: 20123.15999,
    targets30: 30,
    targets50: 50,
    targets70: 70,
    targets90: 90,
    targets105: 105,
    targets120: 120,
    revenueSCReachedInTheFourthQuater: 5,
    tagetsRest10: 10,
    tagetsRest20: 20,
    tagetsRest30: 30,
    tagetsRest50: 50,
    tagetsRest70: 70,
    tagetsRest90: 90,
    tagetsRest105: 105,
    tagetsRest120: 120,
    bonusLevelGrowth: 11,
    bonusLevelGrowthRate: 12,
    bonusLevelBonusRate: 13,
    FYPArisesInTheQuarter: 14,
    bonus: 15,
    BDM: 'BDM',
    BDD: 'BDD'
  },
  {
    region: 'Re1',
    area: 'H',
    gaCode: '1ga',
    gaLocation: 'gaL',
    gadCode: '1',
    gadName: 'gaN',
    openDate: "2019-03-11T07:31:24.047Z",
    branch: 'branch',
    revenueSCCompare: 5,
    targets10: .1,
    targets20: 20,
    targets30: 30,
    targets50: 50,
    targets70: 70,
    targets90: 90,
    targets105: 105,
    targets120: 120,
    revenueSCReachedInTheFourthQuater: 5,
    tagetsRest10: 10,
    tagetsRest20: 20,
    tagetsRest30: 30,
    tagetsRest50: 50,
    tagetsRest70: 70,
    tagetsRest90: 90,
    tagetsRest105: 105,
    tagetsRest120: 120,
    bonusLevelGrowth: 11,
    bonusLevelGrowthRate: 12,
    bonusLevelBonusRate: 13,
    FYPArisesInTheQuarter: 14,
    bonus: 15,
    BDM: 'BDM',
    BDD: 'BDD'
  },
  {
    region: 'Re1',
    area: 'H',
    gaCode: '1ga',
    gaLocation: 'gaL',
    gadCode: '1',
    gadName: 'gaN',
    openDate: "2019-03-11T07:31:24.047Z",
    branch: 'branch',
    revenueSCCompare: 5,
    targets10: 10,
    targets20: 20123.4,
    targets30: 30,
    targets50: 50,
    targets70: 70,
    targets90: 90,
    targets105: 105,
    targets120: 120,
    revenueSCReachedInTheFourthQuater: 5,
    tagetsRest10: 10,
    tagetsRest20: 20,
    tagetsRest30: 30,
    tagetsRest50: 50,
    tagetsRest70: 70,
    tagetsRest90: 90,
    tagetsRest105: 105,
    tagetsRest120: 120,
    bonusLevelGrowth: 11,
    bonusLevelGrowthRate: 12,
    bonusLevelBonusRate: 13,
    FYPArisesInTheQuarter: 14,
    bonus: 15,
    BDM: 'BDM',
    BDD: 'BDD'
  },
  {
    region: 'Re1',
    area: 'H',
    gaCode: '1ga',
    gaLocation: 'gaL',
    gadCode: '1',
    gadName: 'gaN',
    openDate: "2019-03-11T07:31:24.047Z",
    branch: 'branch',
    revenueSCCompare: 5,
    targets10: 10,
    targets20: 20,
    targets30: 30,
    targets50: 50,
    targets70: 70,
    targets90: 90,
    targets105: 105,
    targets120: 120,
    revenueSCReachedInTheFourthQuater: 5,
    tagetsRest10: 10,
    tagetsRest20: 20,
    tagetsRest30: 30,
    tagetsRest50: 50,
    tagetsRest70: 70,
    tagetsRest90: 90,
    tagetsRest105: 105,
    tagetsRest120: 120,
    bonusLevelGrowth: 11,
    bonusLevelGrowthRate: 12,
    bonusLevelBonusRate: 13,
    FYPArisesInTheQuarter: 14,
    bonus: 15,
    BDM: 'BDM',
    BDD: 'BDD'
  },
  {
    region: 'Re1',
    area: 'H',
    gaCode: '1ga',
    gaLocation: 'gaL',
    gadCode: '1',
    gadName: 'gaN',
    openDate: "2019-03-11T07:31:24.047Z",
    branch: 'branch',
    revenueSCCompare: 5,
    targets10: 10,
    targets20: 20,
    targets30: 30,
    targets50: 50,
    targets70: 70,
    targets90: 90,
    targets105: 105,
    targets120: 120,
    revenueSCReachedInTheFourthQuater: 5,
    tagetsRest10: 10,
    tagetsRest20: 20,
    tagetsRest30: 30,
    tagetsRest50: 50,
    tagetsRest70: 70,
    tagetsRest90: 90,
    tagetsRest105: 105,
    tagetsRest120: 120,
    bonusLevelGrowth: 11,
    bonusLevelGrowthRate: 12,
    bonusLevelBonusRate: 13,
    FYPArisesInTheQuarter: 14,
    bonus: 15,
    BDM: 'BDM',
    BDD: 'BDD'
  },
  {
    region: 'Re1',
    area: 'H',
    gaCode: '1ga',
    gaLocation: 'gaL',
    gadCode: '1',
    gadName: 'gaN',
    openDate: "2019-03-11T07:31:24.047Z",
    branch: 'branch',
    revenueSCCompare: 5,
    targets10: 10,
    targets20: 20,
    targets30: 30,
    targets50: 50,
    targets70: 70,
    targets90: 90,
    targets105: 105,
    targets120: 120,
    revenueSCReachedInTheFourthQuater: 5,
    tagetsRest10: 10,
    tagetsRest20: 20,
    tagetsRest30: 30,
    tagetsRest50: 50,
    tagetsRest70: 70,
    tagetsRest90: 90,
    tagetsRest105: 105,
    tagetsRest120: 120,
    bonusLevelGrowth: 11,
    bonusLevelGrowthRate: 12,
    bonusLevelBonusRate: 13,
    FYPArisesInTheQuarter: 14,
    bonus: 15,
    BDM: 'BDM',
    BDD: 'BDD'
  },
  {
    region: 'Re1',
    area: 'H',
    gaCode: '1ga',
    gaLocation: 'gaL',
    gadCode: '1',
    gadName: 'gaN',
    openDate: "2019-03-11T07:31:24.047Z",
    branch: 'branch',
    revenueSCCompare: 5,
    targets10: 10,
    targets20: 20,
    targets30: 30,
    targets50: 50,
    targets70: 70,
    targets90: 90,
    targets105: 105,
    targets120: 120,
    revenueSCReachedInTheFourthQuater: 5,
    tagetsRest10: 10,
    tagetsRest20: 20,
    tagetsRest30: 30,
    tagetsRest50: 50,
    tagetsRest70: 70,
    tagetsRest90: 90,
    tagetsRest105: 105,
    tagetsRest120: 120,
    bonusLevelGrowth: 11,
    bonusLevelGrowthRate: 12,
    bonusLevelBonusRate: 13,
    FYPArisesInTheQuarter: 14,
    bonus: 15,
    BDM: 'BDM',
    BDD: 'BDD'
  },
  {
    region: 'Re1',
    area: 'H',
    gaCode: '1ga',
    gaLocation: 'gaL',
    gadCode: '1',
    gadName: 'gaN',
    openDate: "2019-03-11T07:31:24.047Z",
    branch: 'branch',
    revenueSCCompare: 5,
    targets10: 10,
    targets20: 20,
    targets30: 30,
    targets50: 50,
    targets70: 70,
    targets90: 90,
    targets105: 105,
    targets120: 120,
    revenueSCReachedInTheFourthQuater: 5,
    tagetsRest10: 10,
    tagetsRest20: 20,
    tagetsRest30: 30,
    tagetsRest50: 50,
    tagetsRest70: 70,
    tagetsRest90: 90,
    tagetsRest105: 105,
    tagetsRest120: 120,
    bonusLevelGrowth: 11,
    bonusLevelGrowthRate: 12,
    bonusLevelBonusRate: 13,
    FYPArisesInTheQuarter: 14,
    bonus: 15,
    BDM: 'BDM',
    BDD: 'BDD'
  },
  {
    region: 'Re1',
    area: 'H',
    gaCode: '1ga',
    gaLocation: 'gaL',
    gadCode: '1',
    gadName: 'gaN',
    openDate: "2019-03-11T07:31:24.047Z",
    branch: 'branch',
    revenueSCCompare: 5,
    targets10: 10,
    targets20: 20,
    targets30: 30,
    targets50: 50,
    targets70: 70,
    targets90: 90,
    targets105: 105,
    targets120: 120,
    revenueSCReachedInTheFourthQuater: 5,
    tagetsRest10: 10,
    tagetsRest20: 20,
    tagetsRest30: 30,
    tagetsRest50: 50,
    tagetsRest70: 70,
    tagetsRest90: 90,
    tagetsRest105: 105,
    tagetsRest120: 120,
    bonusLevelGrowth: 11,
    bonusLevelGrowthRate: 12,
    bonusLevelBonusRate: 13,
    FYPArisesInTheQuarter: 14,
    bonus: 15,
    BDM: 'BDM',
    BDD: 'BDD'
  },
  {
    region: 'Re1',
    area: 'H',
    gaCode: '1ga',
    gaLocation: 'gaL',
    gadCode: '1',
    gadName: 'gaN',
    openDate: "2019-03-11T07:31:24.047Z",
    branch: 'branch',
    revenueSCCompare: 5,
    targets10: 10,
    targets20: 20,
    targets30: 30,
    targets50: 50,
    targets70: 70,
    targets90: 90,
    targets105: 105,
    targets120: 120,
    revenueSCReachedInTheFourthQuater: 5,
    tagetsRest10: 10,
    tagetsRest20: 20,
    tagetsRest30: 30,
    tagetsRest50: 50,
    tagetsRest70: 70,
    tagetsRest90: 90,
    tagetsRest105: 105,
    tagetsRest120: 120,
    bonusLevelGrowth: 11,
    bonusLevelGrowthRate: 12,
    bonusLevelBonusRate: 13,
    FYPArisesInTheQuarter: 14,
    bonus: 15,
    BDM: 'BDM',
    BDD: 'BDD'
  },
  {
    region: 'Re1',
    area: 'H',
    gaCode: '1ga',
    gaLocation: 'gaL',
    gadCode: '1',
    gadName: 'gaN',
    openDate: "2019-03-11T07:31:24.047Z",
    branch: 'branch',
    revenueSCCompare: 5,
    targets10: 10,
    targets20: 20,
    targets30: 30,
    targets50: 50,
    targets70: 70,
    targets90: 90,
    targets105: 105,
    targets120: 120,
    revenueSCReachedInTheFourthQuater: 5,
    tagetsRest10: 10,
    tagetsRest20: 20,
    tagetsRest30: 30,
    tagetsRest50: 50,
    tagetsRest70: 70,
    tagetsRest90: 90,
    tagetsRest105: 105,
    tagetsRest120: 120,
    bonusLevelGrowth: 11,
    bonusLevelGrowthRate: 12,
    bonusLevelBonusRate: 13,
    FYPArisesInTheQuarter: 14,
    bonus: 15,
    BDM: 'BDM',
    BDD: 'BDD'
  },
  {
    region: 'Re1',
    area: 'H',
    gaCode: '1ga',
    gaLocation: 'gaL',
    gadCode: '1',
    gadName: 'gaN',
    openDate: "2019-03-11T07:31:24.047Z",
    branch: 'branch',
    revenueSCCompare: 5,
    targets10: 10,
    targets20: 20,
    targets30: 30,
    targets50: 50,
    targets70: 70,
    targets90: 90,
    targets105: 105,
    targets120: 120,
    revenueSCReachedInTheFourthQuater: 5,
    tagetsRest10: 10,
    tagetsRest20: 20,
    tagetsRest30: 30,
    tagetsRest50: 50,
    tagetsRest70: 70,
    tagetsRest90: 90,
    tagetsRest105: 105,
    tagetsRest120: 120,
    bonusLevelGrowth: 11,
    bonusLevelGrowthRate: 12,
    bonusLevelBonusRate: 13,
    FYPArisesInTheQuarter: 14,
    bonus: 15,
    BDM: 'BDM',
    BDD: 'BDD'
  },
  {
    region: 'Re1',
    area: 'H',
    gaCode: '1ga',
    gaLocation: 'gaL',
    gadCode: '1',
    gadName: 'gaN',
    openDate: "2019-03-11T07:31:24.047Z",
    branch: 'branch',
    revenueSCCompare: 5,
    targets10: 10,
    targets20: 20,
    targets30: 30,
    targets50: 50,
    targets70: 70,
    targets90: 90,
    targets105: 105,
    targets120: 120,
    revenueSCReachedInTheFourthQuater: 5,
    tagetsRest10: 10,
    tagetsRest20: 20,
    tagetsRest30: 30,
    tagetsRest50: 50,
    tagetsRest70: 70,
    tagetsRest90: 90,
    tagetsRest105: 105,
    tagetsRest120: 120,
    bonusLevelGrowth: 11,
    bonusLevelGrowthRate: 12,
    bonusLevelBonusRate: 13,
    FYPArisesInTheQuarter: 14,
    bonus: 15,
    BDM: 'BDM',
    BDD: 'BDD'
  },
  {
    region: 'Re1',
    area: 'H',
    gaCode: '1ga',
    gaLocation: 'gaL',
    gadCode: '1',
    gadName: 'gaN',
    openDate: "2019-03-11T07:31:24.047Z",
    branch: 'branch',
    revenueSCCompare: 5,
    targets10: 10,
    targets20: 20,
    targets30: 30,
    targets50: 50,
    targets70: 70,
    targets90: 90,
    targets105: 105,
    targets120: 120,
    revenueSCReachedInTheFourthQuater: 5,
    tagetsRest10: 10,
    tagetsRest20: 20,
    tagetsRest30: 30,
    tagetsRest50: 50,
    tagetsRest70: 70,
    tagetsRest90: 90,
    tagetsRest105: 105,
    tagetsRest120: 120,
    bonusLevelGrowth: 11,
    bonusLevelGrowthRate: 12,
    bonusLevelBonusRate: 13,
    FYPArisesInTheQuarter: 14,
    bonus: 15,
    BDM: 'BDM',
    BDD: 'BDD'
  },
  {
    region: 'Re1',
    area: 'H',
    gaCode: '1ga',
    gaLocation: 'gaL',
    gadCode: '1',
    gadName: 'gaN',
    openDate: "2019-03-11T07:31:24.047Z",
    branch: 'branch',
    revenueSCCompare: 5,
    targets10: 10,
    targets20: 20,
    targets30: 30,
    targets50: 50,
    targets70: 70,
    targets90: 90,
    targets105: 105,
    targets120: 120,
    revenueSCReachedInTheFourthQuater: 5,
    tagetsRest10: 10,
    tagetsRest20: 20,
    tagetsRest30: 30,
    tagetsRest50: 50,
    tagetsRest70: 70,
    tagetsRest90: 90,
    tagetsRest105: 105,
    tagetsRest120: 120,
    bonusLevelGrowth: 11,
    bonusLevelGrowthRate: 12,
    bonusLevelBonusRate: 13,
    FYPArisesInTheQuarter: 14,
    bonus: 15,
    BDM: 'BDM',
    BDD: 'BDD'
  },
  {
    region: 'Re1',
    area: 'H',
    gaCode: '1ga',
    gaLocation: 'gaL',
    gadCode: '1',
    gadName: 'gaN',
    openDate: "2019-03-11T07:31:24.047Z",
    branch: 'branch',
    revenueSCCompare: 5,
    targets10: 10,
    targets20: 20,
    targets30: 30,
    targets50: 50,
    targets70: 70,
    targets90: 90,
    targets105: 105,
    targets120: 120,
    revenueSCReachedInTheFourthQuater: 5,
    tagetsRest10: 10,
    tagetsRest20: 20,
    tagetsRest30: 30,
    tagetsRest50: 50,
    tagetsRest70: 70,
    tagetsRest90: 90,
    tagetsRest105: 105,
    tagetsRest120: 120,
    bonusLevelGrowth: 11,
    bonusLevelGrowthRate: 12,
    bonusLevelBonusRate: 13,
    FYPArisesInTheQuarter: 14,
    bonus: 15,
    BDM: 'BDM',
    BDD: 'BDD'
  },

]

const newData = {
  region: 'string',
  area: 'string',
  gaCode: 'string',
  gaLocation: 'string',
  gadCode: 'string',
  gadName: 'string',
  openDate: 'string',
  branch: 'string',
  revenueSCCompare: 5,
  targetsNecessary: {
    targets10: 10,
    targets20: 20,
    targets30: 30,
    targets50: 50,
    targets70: 70,
    targets90: 90,
    targets105: 105,
    targets120: 120
  },
  revenueSCReachedInTheFourthQuater: 5,
  remainingSales: {
    targets10: 10,
    targets20: 20,
    targets30: 30,
    targets50: 50,
    targets70: 70,
    targets90: 90,
    targets105: 105,
    targets120: 120
  },
  achieved: {
    bonusLevelGrowth: 11,
    bonusLevelGrowthRate: 12,
    bonusLevelBonusRate: 13
  },
  temporaryBonus: {
    FYPArisesInTheQuarter: 14,
    bonusSalary: 1
  },
  BDM: 'String{BDM}',
  BDD: 'String{BDD}'
}